<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8"/>
    <title>The eras tour </title>
    <link href="https://fonts.googleapis.com/css2?family=Anonymous+Pro&family=Indie+Flower&family=Playpen+Sans:wght@100;200&family=Roboto:wght@100&family=Silkscreen&display=swap" rel="stylesheet"> 
    <style>
        body {
            font-family: 'Silkscreen', sans-serif;
            background-color: #1f1f1f;
            padding: 10px;
        }

        #game {
            font-family: 'Silkscreen', sans-serif;    
            max-width: 600px;
            margin: auto;
            background-color: transparent;
            padding: 20px;
            border-radius: 5px;
            box-shadow: 0px 0px 10px 0px rgba(0,0,0,0);
        }

        #songImage {
            max-width: 100%;
            height: auto;
        }

        #songName {
        font-family: 'Roboto', sans-serif; /* Using Roboto font */
        font-size: 50px; /* Larger font size */
        color: #00fffb; /* Blue color */
        font-weight: bold;
        margin-top: 20px;
        display: block;
    }

        #introPage {
            font-family: 'Silkscreen', sans-serif;    
            text-align: center;
        }

        #songName {
            font-family: 'Silkscreen', sans-serif;    
            font-size: 24px;
            font-weight: bold;
            margin-top: 20px;
            display: block; /* Ensure it's always displayed */
        }

        button {
            font-family: 'Silkscreen', sans-serif;    
            background-color: #00fffb;
            color: #201b1b;
            border: none;
            padding: 10px 20px;
            text-align: center;
            text-decoration: none;
            display: inline-block;
            font-size: 16px;
            margin: 20px 2px;
            cursor: pointer;
            border-radius: 5px;
        }

        button:hover {
            background-color: #00fffb90;
        }
        #topLeftButton {
            font-family: 'Silkscreen', sans-serif;    
            position: fixed;
            top: 10px;
            left: 10px;
            background-color: #00fffb;
            color: #201b1b;
            border: none;
            padding: 10px 20px;
            text-align: center;
            text-decoration: none;
            display: inline-block;
            font-size: 16px;
            border-radius: 5px;
            cursor: pointer;
        }
        
        #topLeftButton:hover {
            background-color: #00fffb90;
        }
    
        #songYear {
            font-size: 18px;
            font-weight: bold;
            margin-top: 10px;
        }
    </style>
</head>
<body>
<a href="https://www.soundofai.com/" id="topLeftButton" style="font-family: 'Silkscreen', sans-serif;" target="_self">Home</a>
<canvas id="background-canvas" style="position:fixed;z-index:-1;"></canvas>
<div style="text-align: center;">
    <h1 style="font-family: 'Silkscreen', sans-serif; color: #00fffb;">The eras tour</h1>
</div>
<div id="introPage">
    <img src="https://cdn.midjourney.com/370b72b0-c87f-4571-82be-17ac4039a5a7/0_3.png" alt="love" width="500" height="500">
    <p style="font-family: 'Silkscreen', sans-serif; color: #00fffb; padding-top: 5px;">The ultimate AI musical quiz for Swifties. Each image has been generated based off the song name or a particular lyric in that song.</p>
    <button id="startButton">Start the quiz</button>
</div>
<div id="game" style="display: none;">
    <img id="songImage" src=""/>
    <div id="songName"></div>
    <div id="spotifyPlayer"></div>
    <button id="revealButton" style="display: none;">Reveal answer</button>
    <button id="nextButton" style="display: none;">Next image</button>
</div>
<div id="introPage">
    <p style="font-family: 'Silkscreen', sans-serif; color: #717171; font-size: 10px;">Teis Lebeck</p>
</div>
<script>
    const canvas = document.getElementById('background-canvas');
    const ctx = canvas.getContext('2d');
    let particlesArray;

    // get size of window
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;

    class Particle {
        constructor(x, y, size, speed) {
            this.x = x;
            this.y = y;
            this.size = size;
            this.speed = speed;
        }

        draw() {
            ctx.fillStyle = 'rgba(173, 216, 230, 0.8)';
            ctx.beginPath();
            ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
            ctx.closePath();
            ctx.fill();
        }

        update() {
            this.x += this.speed;
            if (this.x > canvas.width) {
                this.x = 0 - this.size;
                this.y = Math.random() * canvas.height;
            }
            this.draw();
        }
    }

    function init() {
        particlesArray = [];
        let numberOfParticles = (canvas.height * canvas.width) / 30000;
        for (let i = 0; i < numberOfParticles; i++) {
            let size = Math.random() * 5 + 1;
            let x = Math.random() * canvas.width;
            let y = Math.random() * canvas.height;
            let speed = Math.random() * 3 + 1;
            particlesArray.push(new Particle(x, y, size, speed));
        }
    }

    function animateParticles() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        for (let i = 0; i < particlesArray.length; i++) {
            particlesArray[i].update();
        }
        requestAnimationFrame(animateParticles);
    }

    window.addEventListener('resize', function () {
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
        init();
    });

    init();
    animateParticles();
</script>
<script>
    function shuffleArray(array) {
        for (let i = array.length - 1; i > 0; i--) {
            let j = Math.floor(Math.random() * (i + 1));
            [array[i], array[j]] = [array[j], array[i]];
        }
    }

    var songs = [
        {name: 'Fearless - 2008', image: 'https://cdn.midjourney.com/271c6862-ff64-4f17-9cc8-712c18358d7f/0_1.png', spotifyId: '6YvqWjhGD8mB5QXcbcUKtx'}, //Love story
        {name: 'Fearless - 2008', image: 'https://cdn.midjourney.com/17954b38-e906-4aff-82ad-90351835df6b/0_1.png', spotifyId: '1qrpoAMXodY6895hGKoUpA'}, //You belong with me
        {name: 'Red - 2012', image: 'https://cdn.midjourney.com/d0acff73-8e13-4326-900c-3e85c9173b2b/0_2.png', spotifyId: '5YqltLsjdqFtvqE7Nrysvs'}, //We are never ever getting back together
        {name: 'Red - 2012', image: 'https://cdn.midjourney.com/58846d34-7803-43f8-a9f0-64945480952f/0_2.png', spotifyId: '6AtZLIzUINvExIUy4QhdjP'}, // I knew you were trouble
        {name: 'Midnights - 2022', image: 'https://cdn.midjourney.com/9665e3fd-a093-4d1c-a386-22c86685c33c/0_2.png', spotifyId: '0V3wPSX9ygBnCm8psDIegu'}, //Anti-Hero
        {name: 'Lover - 2019', image: 'https://cdn.midjourney.com/2dfd055e-f17d-4853-b551-5459c08fa320/0_0.png', spotifyId: '1BxfuPKGuaTgP7aM0Bbdwr'}, //Cruel summer
        {name: 'The tortured poets department - 2024', image: 'https://cdn.midjourney.com/372127ac-d1f1-4893-b6b4-65f8cf77c3de/0_2.png', spotifyId: '2OzhQlSqBEmt7hmkYxfT6m'}, // Fortnight
        {name: 'The tortured poets department - 2024', image: 'https://cdn.midjourney.com/f528cb1b-a002-4530-88e9-d3677913279d/0_1.png', spotifyId: '4q5YezDOIPcoLr8R81x9qy'}, // I can do it with a broken heart
        {name: 'Folklore - 2020', image: 'https://cdn.midjourney.com/505bf579-ecfe-409c-9f5e-c13056a16da1/0_1.png', spotifyId: '3hUxzQpSfdDqwM3ZTFQY0K'}, //august
        {name: '1989 - 2014', image: 'https://cdn.midjourney.com/75b99e4f-e7e5-47d0-8413-49271e2b0d3e/0_0.png', spotifyId: '1hjRhYpWyqDpPahmSlUTlc'}, //Style
        {name: 'Fearless - 2008', image: 'https://cdn.midjourney.com/bd2e86d3-8619-4a23-a462-5a405a9171c6/0_0.png', spotifyId: '77sMIMlNaSURUAXq5coCxE'}, //Fearless (the song)
        {name: '1989 - 2014', image: 'https://cdn.midjourney.com/4ce4001a-1dad-4c26-a30c-bea0c2b85b4d/0_1.png', spotifyId: '3pv7Q5v2dpdefwdWIvE7yH'}, //Shake it off
        {name: '', image: 'https://cdn.midjourney.com/92cafa85-18cc-4cf7-83c1-e876ce620070/0_1.png', spotifyId: '45wMBGri1PORPjM9PwFfrS'}, //Blank space
        {name: '', image: '', spotifyId: ''}, //template

    ];

    var currentSong = 0;

    function displaySong() {
        // Display the image
        document.getElementById('songImage').src = songs[currentSong].image;

        // Display the song name immediately
        document.getElementById('songName').innerText = songs[currentSong].name;
        document.getElementById('songName').style.display = 'block';

        // Reset Spotify Player (hide until "Se svaret" is clicked)
        document.getElementById('spotifyPlayer').innerHTML = '';

        // Adjust visibility of buttons
        document.getElementById('revealButton').style.display = 'block';
        document.getElementById('nextButton').style.display = 'none';
    }

    function revealAnswer() {
        // Display the Spotify Player
        var spotifyEmbed = '<iframe src="https://open.spotify.com/embed/track/' + songs[currentSong].spotifyId + '" width="300" height="80" frameborder="0" allowtransparency="true" allow="encrypted-media"></iframe>';
        document.getElementById('spotifyPlayer').innerHTML = spotifyEmbed;

        // Hide the reveal button, show the next button
        document.getElementById('revealButton').style.display = 'none';
        document.getElementById('nextButton').style.display = 'block';
    }

    function nextSong() {
        currentSong++;
        if (currentSong >= songs.length) {
            currentSong = 0; // Loop back to the first song
        }
        displaySong();
    }

    document.getElementById('startButton').onclick = function() {
        document.getElementById('introPage').style.display = 'none';
        document.getElementById('game').style.display = 'block';
        displaySong(); // Start with the first song
    };

    document.getElementById('revealButton').onclick = function() {
        revealAnswer();
    };

    document.getElementById('nextButton').onclick = function() {
        nextSong();
    };
</script>
</body>
</html>
